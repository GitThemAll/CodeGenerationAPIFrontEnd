<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>

    <body>


        <div id="app">
            <div>
                <input v-model="currentUser.username">
                <input type="password" v-model="password">
                <button v-on:click="processLogin">Say cheese</button>
                <div v-if="!loading">
                    <div v-if="auth">
                        <strong> You have been authorized</strong><br>
                        <div id="optionsMenu" style="float: left;">
                            <strong>Selet one of the following options.</strong>
                            
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('getAllAccounts')">Get all accounts</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('getAllUsers')">Get all users</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('createAccount')">Create a new account</button>
                            </div>
                            <div>
                                <button v-on:click="select('makeTransaction')">Make a transaction</button>
                            </div>
                            <div>
                                <button v-on:click="select('editUser')">Edit user</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('editAccount')">Edit account</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('deleteAccount')">Delete an existing account</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('getSpecificAccount')">Get a specific account information</button>
                            </div>
                            <div v-if="currentUser.role=='EMPLOYEE'">
                                <button v-on:click="select('createUser')">Create new User</button>
                            </div>
                        </div>
                        <div v-if="option">
                            <div style="float: right;">
                                <div v-if="option=='createAccount'">
                                    <div>
                                        <input type="number" v-model="createAccountInput.accountOwner"> userId
                                    </div>
                                    <select id='accountTypeSelect'>
                                        <option>Checking</option>
                                        <option>Saving</option>
                                    </select>
                                    <div><button v-on:click="createAccount">Create account</button></div>
                                </div>
                                <div v-if="option=='createUser'">
                                    <div>
                                        <input v-model="createUserInput.email"> email
                                        <input v-model="createUserInput.password"> password
                                        <input v-model="createUserInput.username"> username
                                        <input type="number" v-model="createUserInput.userId"> userId
                                    </div>
                                    <div><button v-on:click="createUser">Create user</button></div>
                                </div>
                                <div v-if="option=='makeTransaction'">
                                    <div>
                                        <div>
                                            <input v-model="transactionInput.Sender"> sender
                                        </div>
                                        <div>
                                            <input v-model="transactionInput.Receiver"> reciever
                                        </div>
                                        <div>
                                            <input v-model="transactionInput.ReceiverName"> reciever name
                                        </div>
                                        <div>
                                            <input type="number" v-model="transactionInput.Amount"> amount
                                        </div>
                                        <div><button v-on:click="makeTransaction">Create</button></div>
                                    </div>
                                </div>
                                <div v-if="option=='editUser'">
                                    <div>
                                        <div>
                                            Email <input v-model="userInput.email">
                                        </div>
                                        <div>
                                            Password <input v-model="userInput.password">
                                        </div>
                                        <div>
                                           New id <input v-model="userInput.userId">
                                        </div>
                                        <div>
                                            Username <input v-model="userInput.username">
                                        </div>
                                        <div><button v-on:click="editUser">Edit user</button></div>
                                    </div>
                                </div>
                                <div v-if="option=='editAccount'">
                                    <div>
                                        <div>
                                            Iban <input v-model="editAccountInput.iban">
                                        </div>
                                        <div>
                                            Amount <input v-model="editAccountInput.amount">
                                        </div>
                                        <div>
                                           Owner Id <input type="number" v-model="editAccountInput.ownerId">
                                        </div>
                                        <div>
                                           Type <select v-model="editAccountInput.type">
                                            <option>Checking</option>
                                            <option>Saving</option>
                                               </select>>
                                        </div>
                                        <div>
                                            Status <select v-model="editAccountInput.status">
                                                <option>Active</option>
                                                <option>Closed</option>
                                                   </select>>
                                        </div>
                                        <div>
                                            Transaction limit <input type="number" v-model="editAccountInput.transactionLimit">
                                        </div>
                                        <div>
                                            Daily limit <input type="number" v-model="editAccountInput.dayLimit">
                                        </div>
                                        <div>
                                            Absolut limit <input type="number" v-model="editAccountInput.absolutelimit">
                                        </div>
                                        <div><button v-on:click="editAccount">Edit account</button></div>
                                    </div>
                                </div>
                                <div v-if="option=='deleteAccount'">
                                    Account Iban<input v-model="accountIbanToDelete">
                                    <div><button v-on:click="deleteAccount">Delete</button></div>
                                </div>
                                <div v-if="option=='getAllAccounts' || option=='getAllUsers'">
                                    <div>
                                        filter<input type="number" v-model="getAllInput.filter">
                                    </div>
                                    <div>
                                        offset<input type="number" v-model="getAllInput.offset">
                                    </div>
                                    <div v-if="option=='getAllAccounts'">
                                        <div>
                                            account Owner<input type="number" v-model="getAllInput.accountOwner">
                                        </div>
                                        <div>
                                            status <select type="number" v-model="getAllInput.status">
                                        <option>Active</option>
                                        <option>Closed</option>
                                            </select>
                                            type <select type="number" v-model="getAllInput.type">
                                                <option>Checking</option>
                                                <option>Saving</option>
                                                    </select>
                                        </div>
                                    </div>
                                    <div><button v-if="option=='getAllAccounts'" type="number" v-on:click="getAllAccounts">
                                        Get Accounts</button></div>
                                    <div><button v-if="option=='getAllUsers'" type="number" v-on:click="getAllUsers">
                                        Get Users</button></div>
                                </div>
                                <div v-if="option=='getSpecificAccount'">
                                    <input v-model="specificAccountInput.Iban">
                                    <div><button v-on:click="getSpecificAccount">
                                        Get specific account</button></div>
                                </div>
                            </div>
                        </div>
                        <div v-if="!auth">
                            You have not been authorized, Please check your username and password.
                        </div>
                    </div>
                </div>
            </div>
            <div v-if="userMsg.success!==null" >
                {{userMsg.text}}
            </div>
            <div v-if="response.accounts" >
                result: <br>
                <div v-for="account in response.accounts">
                   {{account}}
                </div>
            </div>
            <div v-if="response.users" >
                result: <br>
                <div v-for="user in response.users">
                    {{user}}
                </div>
            </div>
            <div v-if="response.newUser" >
                result: <br>
                {{response.newUser}}
            </div>
            <div v-if="response.specificAccount" >
                result: <br>
                {{response.specificAccount}}
            </div>
            <div v-if="response.newAccount" >
                result: <br>
                {{response.newAccount}}
            </div>
            <div v-if="auth">
                your current user information<br>
                Id:{{currentUser.id}}<br>
                accounts:
                <div v-for="account in currentUser.accounts">
                    {{account}}
                </div>
            </div>
            <div v-if="auth==false">
                You have not been authorized by the server. check your credentials.
            </div>
        </div>
        </div>
        <script src="request.js"></script>
        <script src="generalVue.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript">
        </script>
    </body>

</html>
